{"version":3,"sources":["next-fsm.js"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"next-fsm.js","sourcesContent":["(function() {\n  var global = global || this || window || Function('return this')();\n  var nx = global.nx || require('next-js-core2');\n  var DEFAULT_OPTIONS = { state: null, transitions: [], onTransition: nx.noop };\n\n  var NxFsm = nx.declare('nx.Fsm', {\n    methods: {\n      init: function(inOptions) {\n        this.options = nx.mix(null, DEFAULT_OPTIONS, inOptions);\n        this.state = this.options.init;\n        this.transitions = this.options.transitions;\n        this.__generateStateExecutor();\n      },\n      transition: function(inName) {\n        var current = this.transitions.find(function(item) {\n          return item.name === inName;\n        });\n        if (this.state === current.from) {\n          var value = current.to;\n          this.state = value;\n          this.options.onTransition({\n            target: {\n              value: value\n            }\n          });\n        }\n      },\n      __generateStateExecutor: function() {\n        var self = this;\n        var transitions = this.transitions;\n        var names = transitions.map(function(item) {\n          return item.name;\n        });\n        names.forEach(function(name) {\n          self[name] = function() {\n            self.transition(name);\n          };\n        });\n      }\n    }\n  });\n\n  if (typeof module !== 'undefined' && module.exports) {\n    module.exports = NxFsm;\n  }\n})();\n"]}